var hsYTPlayers={},hsVimeoPlayers={},hsYTInit=(function(){var b=[],a=false;return function(d,e){if(d===true){a=true;for(var c=0;c<b.length;c++){b.shift()()}}else{if(typeof d=="function"){if(a){d()}else{b[e?"unshift":"push"](d)}}}}})(),hsVimeoInit=(function(){var b=[],a=false;return function(d,e){if(d===true){a=true;for(var c=0;c<b.length;c++){b.shift()()}}else{if(typeof d=="function"){if(a){d()}else{b[e?"unshift":"push"](d)}}}}})();$.fn.hsBgVideo=function(c){hsYTAPICreate();hsVimeoAPICreate();var d=$('[data-hs-bgv-type="youtube"]'),b=$('[data-hs-bgv-type="vimeo"]'),a=$(this);if(d.length){d.each(function(g){var j=$(this),e=j.data("hs-bgv-id"),f=j.data("hs-bgv-loop")?1:0,h=$('<div class="hs-video-preview" style="background-image: url(//img.youtube.com/vi/'+e+'/maxresdefault.jpg);"></div>');j.css("position","relative").prepend(h).prepend('<div id="hsYTPlayer'+g+'" class="hs-youtube hs-bg-video" data-hs-bgv-id="'+e+'" data-hs-bgv-loop="'+f+'"></div>')});hsYTInit(function(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){return}$(".hs-youtube").each(function(g){var e=$(this).attr("id"),h=$(this).data("hs-bgv-id"),f=$(this).data("hs-bgv-loop")?1:0;return hsYTPlayers[g]=new YT.Player(e,{videoId:h,playerVars:{autoplay:1,controls:0,showinfo:0,enablejsapi:1,modestbranding:1,iv_load_policy:3,loop:f,playlist:h},events:{onReady:hsYTReady,onStateChange:hsYTPlay}})})})}if(b.length){b.each(function(g){var j=$(this),e=j.data("hs-bgv-id"),f=j.data("hs-bgv-loop")?1:0;function h(){$.getJSON("//www.vimeo.com/api/v2/video/"+e+".json?callback=?",function(i){var k=i[0].thumbnail_large;j.prepend('<div class="hs-video-preview" style="background-image: url('+k+');"></div>')})}h();j.css("position","relative").prepend('<div id="hsVimeoPlayer'+g+'" class="hs-vimeo hs-bg-video" data-hs-bgv-id="'+e+'" data-hs-bgv-loop="'+f+'"></div>')});hsVimeoInit(function(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){return}$(".hs-vimeo").each(function(g){var e=$(this).attr("id"),h=$(this).data("hs-bgv-id"),f=$(this).data("hs-bgv-loop")?1:0;hsVimeoPlayers[g]=new Vimeo.Player(e,{id:h,loop:f,title:false,portrait:false,byline:false,autoplay:true,autopause:false});hsVimeoPlayers[g].setVolume(0);hsVimeoPlayers[g].play().then(function(){var k=hsVimeoPlayers[g].element.width,i=hsVimeoPlayers[g].element.height,j=k/i;ratioCalc(hsVimeoPlayers[g].element,j);$(window).resize(function(){ratioCalc(hsVimeoPlayers[g].element,j)});$("*").on("blur change click dblclick error focus focusin focusout hover keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup resize scroll select submit",function(){ratioCalc(hsVimeoPlayers[g].element,j)});setTimeout(function(){$("#"+e).prev().fadeOut(400)},3000)})})})}if(a.length){a.not("[data-hs-bgv-type]").each(function(){var h=$(this),g=h.data("hs-bgv-path"),e=h.data("hs-bgv-loop")?"loop ":"",f='<video class="hs-html5 hs-bg-video" poster="" autoplay muted '+e+'><source src="'+g+'.mp4" type="video/mp4"><source src="'+g+'.webm" type="video/webm"><source src="'+g+'.ogv" type="video/ogg">Your browser doesn\'t support HTML5 video.</video>';h.css("position","relative").prepend(f)})}};function ratioCalc(f,d){var c=$(window).width(),e=$(f).parents("[data-hs-bgv-id]").outerHeight(),a=$(f).parent("[data-hs-bgv-id]").outerWidth(),g=d*e,b=d*a;if(e>a){$(f).css({width:g,height:"130%"})}else{$(f).css({width:b,height:c>1600?b*0.4:g})}}function hsYTAPICreate(){if($('[data-hs-bgv-type="youtube"]').length){var a=document.createElement("script");a.src="//www.youtube.com/player_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}}function hsYTReady(d){d.target.mute();var c=d.target.a.width,a=d.target.a.height,b=c/a;ratioCalc(d.target.a,b);$(window).resize(function(){ratioCalc(d.target.a,b)});$("*").on("blur change click dblclick error focus focusin focusout hover keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup resize scroll select submit",function(){ratioCalc(d.target.a,b)})}function hsYTPlay(a){if(a.data==YT.PlayerState.PLAYING){setTimeout(function(){$(a.target.a).next().fadeOut(400)},3000)}}function onYouTubePlayerAPIReady(){hsYTInit(true)}function hsVimeoAPICreate(){if($('[data-hs-bgv-type="vimeo"]').length){var a=document.createElement("script");a.src="//player.vimeo.com/api/player.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}}hsVimeoInit(true);